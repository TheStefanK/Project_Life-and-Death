(window.webpackJsonp=window.webpackJsonp||[]).push([[2,4],{"+sS5":function(t,e,s){"use strict";s.r(e);var n={name:"index"},a=s("KHd+"),i=Object(a.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"site-header"},[e("div",{staticClass:"site-logo"},[e("router-link",{staticClass:"site-logo-link",attrs:{to:{name:"home"}}},[e("img",{staticClass:"site-logo-img",attrs:{src:"/images/logo.png",alt:"Life and Death"}}),this._v(" "),e("h1",[this._v("Life and Death with Corona")])])],1),this._v(" "),e("div",{staticClass:"site-navigation"},[e("ul",{staticClass:"navigation-list"},[e("li",{staticClass:"navigation-list-item"},[e("router-link",{attrs:{to:{name:"home"}}},[this._v("Home")])],1),this._v(" "),e("li",{staticClass:"navigation-list-item"},[e("router-link",{attrs:{to:{name:"leaderboard"}}},[this._v("Leaderboard")])],1)])])])}),[],!1,null,null,null);e.default=i.exports},pNFQ:function(t,e,s){"use strict";s.r(e);var n=s("L2JU"),a={methods:{numberWithDot:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},formattedElapsedTime:function(){var t=new Date(null);t.setSeconds(this.elapsedTime/1e3);var e=t.toUTCString();return e.substr(e.indexOf(":")-2,8)},randomIntFromInterval:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}}},i={name:"gauge",mixins:[a],props:{name:String,number:Number},data:function(){return{style:"",CounterNumber:0}},watch:{number:function(t,e){var s=this.HandleUpOrDown(t,e),n=this.HandleRotate(t);this.counter(e,t,3,s),this.style=" transform: rotate("+n+"deg);"}},created:function(){this.number<=0&&(this.style=" transform: rotate(-95deg);")},methods:{counter:function(t,e,s,n){var a=this,i=t,r=e-t;r=r<0?-1*r:r;var o=1,u=setInterval((function(){o=a.HandleIncrement(t,e),"up"===n&&((i+=o)===e||i>=e?(clearInterval(u),a.CounterNumber=e):a.CounterNumber=i),"down"===n&&((i-=o)===e||i<=e?(clearInterval(u),a.CounterNumber=e):a.CounterNumber=i)}),100)},RandomMinMaxNumber:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},HandleRotate:function(t){var e;return t<1&&(e=-95),1===t&&(e=-93),t>=1&&(e=-90),t>=10&&(e=-88),t>=50&&(e=-87),t>=100&&(e=-86),t>=300&&(e=-84),t>=600&&(e=-82),t>=800&&(e=-80),t>=1e3&&(e=-70),t>=1500&&(e=-60),t>=3e3&&(e=-40),t>=6e3&&(e=-20),t>=1e4&&(e=0),t>=2e4&&(e=10),t>=5e4&&(e=40),t>=2e5&&(e=60),t>=4e5&&(e=80),t>=2e6&&(e=90),e},HandleUpOrDown:function(t,e){var s;return t>e&&(s="up"),t<e&&(s="down"),s},HandleIncrement:function(t,e){var s=e-t,n=1;if((s=s<0?-1*s:s)<=30&&(n=1),s>30){var a=s/30;n=Math.round(a)}return n}}},r=s("KHd+"),o={name:"akw",mixins:[a],computed:{AkwDead:function(){return this.$store.getters.getAkwDead}},data:function(){return{CounterNumber:0}},watch:{AkwDead:function(t,e){var s=this;setTimeout((function(){s.counter(e,t)}),5e3)}},methods:{counter:function(t,e){var s=this,n=t,a=Math.round(e/80),i=setInterval((function(){n+=a,s.CounterNumber=n,(n===e||n>=e)&&(clearInterval(i),s.CounterNumber=e)}),100)},RandomMinMaxNumber:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}}},u={name:"score",mixins:[a],computed:{Infected:function(){return this.$store.getters.getInfected},Dead:function(){return this.$store.getters.getDead},AkwDead:function(){return this.$store.getters.getAkwDead}},components:{"v-gauge":Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"fuel"},[s("img",{staticClass:"fuel-scala",attrs:{src:"images/score/gauge_filter.png",alt:"Gauge"}}),t._v(" "),s("img",{staticClass:"fuel-needle",style:t.style,attrs:{src:"images/score/zeiger.svg",alt:"Pointer"}})]),t._v(" "),s("div",{staticClass:"fuel-counter"},[s("span",{staticClass:"sil-text"},[t._v(t._s(t.name))]),t._v(" "),s("span",{staticClass:"number"},[t._v(" "+t._s(t.numberWithDot(t.CounterNumber))+" ")])])])}),[],!1,null,null,null).exports,"v-akw":Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[0!==this.AkwDead?e("div",{staticClass:"akw-box"},[e("img",{staticClass:"akw-symbole",attrs:{src:"images/akw.png",alt:"AKW"}}),this._v(" "),e("span",[this._v(" AKW-Tote: "+this._s(this.numberWithDot(this.CounterNumber)))])]):this._e()])}),[],!1,null,null,null).exports}},l=Object(r.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"score-board"},[e("div",{staticClass:"infected"},[e("v-gauge",{attrs:{name:"Infizierte:",number:this.Infected}})],1),this._v(" "),e("div",{staticClass:"statistics"},[e("v-akw")],1),this._v(" "),e("div",{staticClass:"dead"},[e("v-gauge",{attrs:{name:"Tote:",number:this.Dead}})],1)])}),[],!1,null,null,null).exports,d=s("+sS5"),c=s("vDqi"),h=s.n(c),m={name:"Game",mixins:[a],data:function(){return{videoEnd:!1,videoPause:!1,ProgressStatus:"1",VideoSource:"/video/vid_1.mp4",PlayerName:null,PlayerNameError:!1,VideoCurrentTime:null,GameTimer:null}},components:{"app-score":l,"app-header":d.default},computed:Object(n.b)({storyLine:"getStoryLineList",Timer:"getTimer",elapsedTime:"getElapsedTime"}),watch:{VideoCurrentTime:function(t,e){}},created:function(){this.VideoSource=this.storyLine[this.ProgressStatus].video,this.GameTimerStart()},methods:{OnEnd:function(){this.videoEnd=!0},OnPause:function(){this.videoEnd=!0},OnStart:function(){this.videoEnd=!1},GameTimerStart:function(){var t=this;this.GameTimerStart=setInterval((function(){var e=t.$store.getters.getTimer;e+=1,t.$store.dispatch("handleChangeTimer",e);var s=t.formattedElapsedTime(e);t.$store.dispatch("handleChangeElapsedTime",s)}),1100)},formattedElapsedTime:function(t){var e=new Date(null);e.setSeconds(t/1);var s=e.toUTCString();return s.substr(s.indexOf(":")-2,8)},updateVideoTime:function(){var t=this.$refs.videoRef,e=this.$refs.videoRef.duration-this.storyLine[this.ProgressStatus].Overlay,s=this.$refs.videoRef.currentTime,n=this.storyLine[this.ProgressStatus].type;if(t.volume=1,t.muted=!1,"question"===n)e<=s&&(this.videoEnd=!0,this.$refs.audioRef.muted=!1,this.$refs.audioRef.volume=1,this.$refs.audioRef.play());else if("continue"===n&&t.duration===s){var a=this.storyLine[this.ProgressStatus].continueStory.next;this.nextProgress(a)}else t.duration===s&&(this.videoEnd=!0);this.VideoCurrentTime=this.$refs.videoRef.currentTime},nextProgress:function(t){var e=this;this.$refs.audioRef.pause(),this.$refs.audioRef.currentTime=0,setTimeout((function(){e.ProgressStatus=t,e.VideoSource=e.storyLine[t].video,e.$refs.videoRef.load(),e.videoEnd=!1}),500),this.storyLine[t].InfectedDelay?setTimeout((function(){e.CalculateInfectionAndDead(t)}),this.storyLine[t].InfectedDelay):this.CalculateInfectionAndDead(t),this.storyLine[t].AKW&&this.CalculateAKW(t)},CalculateInfectionAndDead:function(t){var e=this.storyLine[t].MinMaxInfected,s=this.storyLine[t].MinMaxDead,n=this.RandomMinMaxNumber(e[0],e[1]),a=this.RandomMinMaxNumber(s[0],s[1]);this.$store.dispatch("handleChangeInfectedValue",n),this.$store.dispatch("handleChangeDeadValue",a)},CalculateAKW:function(t){var e=this.storyLine[t].AKW,s=this.RandomMinMaxNumber(e[0],e[1]);this.$store.dispatch("handleChangeAkwValue",s)},RandomMinMaxNumber:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},Player_Name_Check:function(){var t=[];return null!==this.PlayerName&&t.push("null"),this.PlayerName.match("([A-Za-z0-9])\\w+")||t.push("regex"),this.PlayerName.length>15&&t.push("lenght"),t},Submit_Player:function(){var t=this,e=this.Player_Name_Check,s=this.$store.getters.getTimer,n=this.$store.getters.getDead+this.$store.getters.getAkwDead,a=Math.round(s/n*1e8),i={name:this.PlayerName,infected:this.$store.getters.getInfected,deceased:n,time:this.$store.getters.getElapsedTime,rang:a};0===e.length?h.a.post("api/score/create",i).then((function(e){200===e.status&&t.$router.push({name:"leaderboard"})})).catch((function(e){console.error(e),t.PlayerNameError=!0})):this.PlayerNameError=!0},Cheat:function(){this.videoEnd=!0}},destroyed:function(){this.$store.dispatch("handleChangeInfectedValue",0),this.$store.dispatch("handleChangeDeadValue",0),this.$store.dispatch("handleChangeAkwValue",0),this.$store.dispatch("handleChangeTimer",0),this.$store.dispatch("handleChangeElapsedTime","00:00:00")}},v=Object(r.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-video"},[s("video",{ref:"videoRef",class:{videoEnd:t.videoEnd},attrs:{id:"Story-Line_Video",autoplay:""},on:{ended:function(e){return t.OnEnd()},pause:t.OnPause,play:t.OnStart,timeupdate:t.updateVideoTime}},[s("source",{attrs:{src:t.VideoSource+"webm",type:"video/webm"}}),t._v(" "),s("source",{attrs:{src:t.VideoSource+"mp4",type:"video/mp4"}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ProgressStatus,expression:"ProgressStatus"}],attrs:{type:"hidden"},domProps:{value:t.ProgressStatus},on:{input:function(e){e.target.composing||(t.ProgressStatus=e.target.value)}}}),t._v(" "),s("div",{class:{"video-container-grid-end":t.videoEnd,"video-container-grid":!t.videoEnd}},[s("div",{staticClass:"top"},[s("div",{staticClass:"left"},[t.videoEnd?s("router-link",{staticClass:"exit-button",attrs:{to:{name:"home"}}},[s("i",{staticClass:"icon-exit"}),t._v("\n                        Exit\n                    ")]):t._e()],1),t._v(" "),s("div",{staticClass:"right"},[s("audio",{ref:"audioRef",attrs:{src:"/audio/question_sound.mp3"}})])]),t._v(" "),t.videoEnd?s("div",{staticClass:"middle"},["question"===t.storyLine[t.ProgressStatus].type?s("div",{staticClass:"story-line_question"},[s("div",[s("p",{staticClass:"question"},[t._v(t._s(this.storyLine[this.ProgressStatus].question))]),t._v(" "),s("div",{staticClass:"options"},[s("div",{staticClass:"option_one"},[s("div",[void 0!==this.storyLine[this.ProgressStatus].question?s("button",{staticClass:"responseBtn",on:{click:function(e){return t.nextProgress(t.storyLine[t.ProgressStatus].firstOption.next)}}},[t._v("\n                                        "+t._s(t.storyLine[this.ProgressStatus].firstOption.response)+"\n                                        "),s("span",{staticClass:"line-1"}),t._v(" "),s("span",{staticClass:"line-2"}),t._v(" "),s("span",{staticClass:"line-3"}),t._v(" "),s("span",{staticClass:"line-4"})]):t._e()])]),t._v(" "),s("div",{staticClass:"option_two"},[s("div",[void 0!==this.storyLine[this.ProgressStatus].question?s("button",{staticClass:"responseBtn",on:{click:function(e){return t.nextProgress(t.storyLine[t.ProgressStatus].secondOption.next)}}},[t._v("\n                                        "+t._s(t.storyLine[this.ProgressStatus].secondOption.response)+"\n                                        "),s("span",{staticClass:"line-1"}),t._v(" "),s("span",{staticClass:"line-2"}),t._v(" "),s("span",{staticClass:"line-3"}),t._v(" "),s("span",{staticClass:"line-4"})]):t._e()])])])])]):t._e(),t._v(" "),"continue"===t.storyLine[t.ProgressStatus].type?s("div",{staticClass:"story-line_continue"}):t._e(),t._v(" "),"end"===t.storyLine[t.ProgressStatus].type?s("div",{staticClass:"story-line_end"},[s("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.PlayerName,expression:"PlayerName"}],staticClass:"input_end_name",attrs:{type:"text",name:"name",id:"name",placeholder:"Dein Name"},domProps:{value:t.PlayerName},on:{input:function(e){e.target.composing||(t.PlayerName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"responseBtn",on:{click:t.Submit_Player}},[t._v("\n                        Senden\n                        "),s("span",{staticClass:"line-1"}),t._v(" "),s("span",{staticClass:"line-2"}),t._v(" "),s("span",{staticClass:"line-3"}),t._v(" "),s("span",{staticClass:"line-4"})]),t._v(" "),t.PlayerNameError?s("span",{staticClass:"error-msg"},[t._v("Der Name darf nur aus Buchstaben und Zahlen bestehen! (A-Z,a-z,0-9) ")]):t._e()]):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"bottom"},[s("app-score")],1)])])}),[],!1,null,null,null);e.default=v.exports}}]);